//storing the data into the database we know once the submit button is clicked, our route directs us to store function

public function store(Request $request){
        $this->validate($request, [
           'name' => 'required',
           'url' => 'required',
        ]);

        $bookmark = new Bookmark;
        $bookmark->name = $request->input('name');
        $bookmark->url = $request->input('url');
        $bookmark->description = $request->input('description');
//the only thing different here, is that we are authenticating the user with correct auth is making the bookmark
        $bookmark->user_id = auth()->user()->id;
        $bookmark->save();

       return redirect('dashboard')->with('success', 'bookmark created successfully!');
    }
    
    
    
 }

//on line 17 you can see we are being redirected to the dashboard, but we want to see the bookmarks created when we are sent back there
//so in our index function you will see how the data is pulled and sent to the dahsboard view
   public function index(){
        $bookmarks = Bookmark::where('user_id', auth()->user()->id)->get();

        return view('dashboard')->with('bookmarks', $bookmarks);
    }


//in our view you can see how we looped through the data
  <h3 class="text-center">My-Bookmarks</h3>
                        <ul class="list-group">
                            @foreach($bookmarks as $bookmark)

                                <li class="list-group-item clearfix">
                                    <a href="{{ $bookmark->url }}" target="_blank">{{ $bookmark->name }}</a>
                                    <button type="button" name="button" class="btn btn-danger btn-xs pull-right">Delete</button>
                                </li>
                            @endforeach

                        </ul>
